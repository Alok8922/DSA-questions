class Solution {
public:
 int m, n;
    int row[4] = {-1, 1, 0, 0};
    int col[4] = {0, 0, -1, 1};

    bool valid(int i, int j) {
        return i >= 0 && i < m && j >= 0 && j < n;
    }
    int numEnclaves(vector<vector<int>>& board) {
         m = board.size();
        n = board[0].size();
        int ans=0;
        queue<pair<int,int>> q;
        //first row
        for(int j=0;j<n;j++){
           if(board[0][j]==1){
            q.push(make_pair(0,j));
            board[0][j]=2;
           }
         }
         
         //first col
         for(int i=1;i<m;i++){
           if(board[i][0]==1){
            q.push(make_pair(i,0));
            board[i][0]=2;
           }
         }
         //last row
         for(int j=1;j<n;j++){
           if(board[m-1][j]==1){
            q.push(make_pair(m-1,j));
            board[m-1][j]=2;
           }
         }
         //last col
         for(int i=1;i<m-1;i++){
           if(board[i][n-1]==1){
            q.push(make_pair(i,n-1));
            board[i][n-1]=2;
           }
         }


       
                    while(!q.empty()){
                        int new_i=q.front().first;
                        int new_j=q.front().second;
                        q.pop();
                        for(int k=0;k<4;k++){
                            if(valid(new_i+row[k],new_j+col[k])&&board[new_i+row[k]][new_j+col[k]]==1){
                               board[new_i+row[k]][new_j+col[k]]=2;
                               q.push(make_pair(new_i+row[k],new_j+col[k]));

                            }
                        }

                    }
                    for(int i=0;i<m;i++){
                        for(int j=0;j<n;j++){
                            if(board[i][j]==2)
                            board[i][j]=0;
                            else if(board[i][j]==1)
                            ans++;

                        }
                    }
                    return ans;

        
        
    }
};
